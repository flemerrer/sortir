{% extends 'base.html.twig' %}

{% block title %}Créer une sortie{% endblock %}

{% block body %}
	<div>
		<h1>{{sortieForm.vars.data.id ? 'Éditer la' : 'Créer une' }} sortie</h1>

		{{ form_start(sortieForm) }}
		<div class="group">
			{{ form_label(sortieForm.nom) }}
			{{ form_widget(sortieForm.nom) }}
			{{ form_errors(sortieForm.nom) }}
		</div>
		<div class="group">
			{{ form_label(sortieForm.dateHeureDebut) }}
			{{ form_widget(sortieForm.dateHeureDebut) }}
			{{ form_errors(sortieForm.dateHeureDebut) }}
		</div>
		<div class="group">
			{{ form_label(sortieForm.duree) }}
			{{ form_widget(sortieForm.duree) }}
			{{ form_errors(sortieForm.duree) }}
		</div>
		<div class="group">
			{{ form_label(sortieForm.dateLimiteInscription) }}
			{{ form_widget(sortieForm.dateLimiteInscription) }}
			{{ form_errors(sortieForm.dateLimiteInscription) }}
		</div>
		<div class="group">
			{{ form_label(sortieForm.nbInscriptionsMax) }}
			{{ form_widget(sortieForm.nbInscriptionsMax) }}
			{{ form_errors(sortieForm.nbInscriptionsMax) }}
		</div>
		<div class="group">
			{{ form_label(sortieForm.infosSortie) }}
			{{ form_widget(sortieForm.infosSortie) }}
			{{ form_errors(sortieForm.infosSortie) }}
		</div>
		<div class="group">
			{{ form_label(sortieForm.lieuxDisponibles) }}
			{{ form_widget(sortieForm.lieuxDisponibles) }}
			{{ form_errors(sortieForm.lieuxDisponibles) }}
		</div>
		<button id="add-new-location" type="button">Ajouter un nouveau lieu</button>
		<div id="new-location" class="hidden">
			<div class="group">
				{{ form_label(sortieForm.villesDisponibles) }}
				{{ form_widget(sortieForm.villesDisponibles) }}
				{{ form_errors(sortieForm.villesDisponibles) }}
			</div>
			<div class="group">
				{{ form_label(sortieForm.nomNouveauLieu) }}
				{{ form_widget(sortieForm.nomNouveauLieu) }}
				{{ form_errors(sortieForm.nomNouveauLieu) }}
			</div>
			<div class="group">
				{{ form_label(sortieForm.rueNouveauLieu) }}
				{{ form_widget(sortieForm.rueNouveauLieu) }}
				{{ form_errors(sortieForm.rueNouveauLieu) }}
			</div>
			<div class="group">
				{{ form_label(sortieForm.nouveauLieuLatitude) }}
				{{ form_widget(sortieForm.nouveauLieuLatitude) }}
				{{ form_errors(sortieForm.nouveauLieuLatitude) }}
			</div>
			<div class="group">
				{{ form_label(sortieForm.nouveauLieuLongitude) }}
				{{ form_widget(sortieForm.nouveauLieuLongitude) }}
				{{ form_errors(sortieForm.nouveauLieuLongitude) }}
			</div>
		</div>
		<button class="" type="submit">{{sortieForm.vars.data.id ? 'Enregistrer' : 'Créer' }}</button>

		{{ form_end(sortieForm) }}
	</div>

	<script>
        document.querySelector('.location-select').addEventListener('change', function () {
            document.getElementById("new-location").classList.add("hidden");
        });
        document.getElementById("add-new-location").addEventListener('click', function () {
            document.getElementById("new-location").classList.remove("hidden");
            document.querySelector('.location-select').value = "";
        });
	</script>

	<style>
        .hidden {
            display: none;
        }
	</style>

{% endblock %}

