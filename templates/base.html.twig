<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>{% block title %}Accueil{% endblock %}</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        {% block stylesheets %}
        {% endblock %}

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body class="d-flex flex-column min-vh-100">
        {{include ('element/header.html.twig')}}
    <div id="flash-container">
            {% for label, messages in app.flashes %}
                {% for message in messages %}
                    <div class="flash alert-{{ label }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endfor %}
    </div>
        {% block body %}{% endblock %}
        
        {{include ('element/footer.html.twig')}}
    </body>
</html>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const successMessage = document.getElementById("flash-container").querySelector(".flash");
        if (successMessage) {
            setTimeout(() => {
                successMessage.style.transition = "all 0.5s ease";
                successMessage.style.transform = "translateY(-200%)";
                successMessage.style.opacity = "0";
            }, 3000);
        }
    });
</script>

<style>
    #flash-container {
        height: 45px;
        position: relative;
        margin: 10px 10px;
    }

    .flash {
        position: relative;
        background-color: rgba(25, 25, 25, 0.85);
        padding: 10px;
        text-align: center;
        z-index: 1000;
        font-weight: bold;
        border-radius: 5px;
    }

    .alert-success {
        color: springgreen;
    }

    .alert-error {
        color: orangered;
    }
</style>